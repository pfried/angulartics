/**
 * @license Angulartics v0.8.4
 * (c) 2013 Luis Farzati http://luisfarzati.github.io/angulartics
 * Universal Analytics update contributed by http://github.com/willmcclellan
 * ECommerce update contributed by http://github.com/pfried
 * License: MIT
 * 
 */
!function(a){"use strict";a.module("angulartics.google.analytics",["angulartics"]).config(["$analyticsProvider",function(a){function b(a){i.push(a),h.enableECommerce&&window.ga&&ga(a+".require","ecommerce","ecommerce.js")}function c(a,c){return c?(i.indexOf(c)<0&&b(c),c+"."+a):a}function d(a,b,d,e,f,g,i){ga(c("ecommerce:addTransaction",a),{id:b,affiliation:d,revenue:e||"0",shipping:f||"0",tax:g||h.defaults.tax,currency:i||h.defaults.currency})}function e(a,b,d,e,f,g,i,j){ga(c("ecommerce:addItem",a),{id:b,name:d,sku:e,category:f,price:g||"0",quantity:i||"1",currency:j||h.defaults.currency})}function f(a){ga(c("ecommerce:send",a))}function g(a){ga(c("ecommerce:clear",a))}var h={delimitor:":",enableECommerce:!0,defaults:{currency:"EUR",tax:"19.00"}},i=[];a.registerPageTrack(function(a){window._gaq&&_gaq.push(["_trackPageview",a]),window.ga&&ga("send","pageview",a)}),h.enableECommerce&&window.ga&&ga("require","ecommerce","ecommerce.js"),a.registerEventTrack(function(a,b){var c,i,j,k=a?a.split(h.delimitor):a;if(k)switch(k.length){case 1:i=k[0];break;case 2:c=k[0],i=k[1];break;case 3:j=k[0],c=k[1],i=k[2];break;default:i=k[0]}if(k&&1!==k.length||(window._gaq&&_gaq.push(["_trackEvent",b.category,i,b.label,b.value]),window.ga&&ga("send","event",b.category,i,b.label,b.value)),"ecommerce"===c&&h.enableECommerce&&window.ga)switch(i){case"addItem":e(j,b.id,b.name,b.sku,b.category,b.price,b.quantity,b.currency);break;case"addTransaction":d(j,b.id,b.affiliation,b.revenue,b.shipping,b.tax,b.currency);break;case"send":f(j);break;case"clear":g(j);break;default:console.warn("No or wrong eCommerce action type was set")}})}])}(angular);